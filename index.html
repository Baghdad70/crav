<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Crav cafe</title>
</head>
<body>
    <div id="confirmation-message">
        Product added to the cart successfully!
    </div>

    <header>
        <div class="logo-container">
            <img src="images/CR.jpg" alt="Crav Logo" class="logo-image">
        </div>
        <a href="#" class="logo">Crav</a>
        <nav class="navigation">
            <a href="#Menu">Menu</a>
            <a href="#previous-orders">Previous Orders</a>
            <a href="#location">Location</a>
        </nav>
    </header>

    <section class="main">
        <div>
            <h1>Crav is life</h1>
            <a href="#Menu" class="main-btn">Order now</a>
            <div class="social-icons">
                <a href="#"><i class="fa-brands fa-instagram"></i></a>
                <a href="#"><i class="fa-brands fa-snapchat"></i></a>
                <a href="#"><i class="fa-brands fa-tiktok"></i></a>
            </div>
        </div>
    </section>


     <section id="Menu" class="menu">
        <div class="menu-header">
            <h2 class="menu-title">Menu</h2>
            <p class="e-t">enjoy with us</p>
        </div>
        <div class="menu-category">
            <h5 class="s-t">Sweets</h5>
            <div class="menu-items">
                <div class="menu-item">
                    <img src="images/Cookies.JPG" alt="Cake Item 1">
                    <h3>Cookies</h3>
                    <span class="price" data-price="7.75">7.75 SAR</span>
                    <button class="add-to-cart" data-name="Cookies" data-price="7.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/Tart.JPG" alt="Cake Item 2">
                    <h3>Pecan tart</h3>
                    <span class="price" data-price="7.75">7.75 SAR</span>
                    <button class="add-to-cart" data-name="Pecan tart" data-price="7.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/Markah.JPG" alt="Cake Item 3">
                    <h3>Markah Sweet</h3>
                    <span class="price" data-price="4.75">4.75 SAR</span>
                    <button class="add-to-cart" data-name="Markah Sweet" data-price="4.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/tar.JPG" alt="Cake Item 3">
                    <h3>Tiramisu</h3>
                    <span class="price" data-price="9.75">9.75 SAR</span>
                    <button class="add-to-cart" data-name="Tiramisu" data-price="9.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/MAGK.JPG" alt="Cake Item 5">
                    <h3>Magic Bar</h3>
                    <span class="price" data-price="7.75">7.75 SAR</span>
                    <button class="add-to-cart" data-name="Magic Bar" data-price="7.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
            </div> 
        </div>
        <div class="menu-category">
            <h3 class= "D-t" >Drinks</h3>
            <div class="menu-items">
                <div class="menu-item">
                    <img src="images/Cday.JPG" alt="Coffee Item 1">
                    <h3>Coffee day</h3>
                    <span class="price"data-price="4.75">4.75SAR</span>
                    <button class="add-to-cart" data-name="Coffee day"data-price="4.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/cho.JPG" alt="Coffee Item 2">
                    <h3>Ice Chocolate</h3>
                    <span class="price"data-price="8.75">8.75SAR</span>
                    <button class="add-to-cart" data-name="Ice Chocolate"data-price="8.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/kr.JPG" alt="Coffee Item 3">
                    <h3>Ice Roselle</h3>
                    <span class="price"data-price="8.75">8.75SAR</span>
                    <button class="add-to-cart" data-name="Ice Roselle"data-price="8.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/V60.JPG" alt="Coffee Item 4">
                    <h3>V60</h3>
                    <span class="price"data-price="8.75">8.75SAR</span>
                    <button class="add-to-cart" data-name="V60"data-price="8.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/TEA.JPG" alt="Coffee Item 5">
                    <h3>Ice tea raspberry </h3>
                    <span class="price"data-price="8.75">8.75SAR</span>
                    <button class="add-to-cart" data-name="Ice tea raspberry"data-price="8.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/Rose.JPG" alt="Coffee Item 5">
                    <h3>Coffee and rose holder</h3>
                    <span class="price"data-price="34.75">34.75SAR</span>
                    <button class="add-to-cart" data-name="Coffee and rose holder"data-price="34.75">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
                <div class="menu-item">
                    <img src="images/Mg.JPG" alt="Coffee Item 6">
                    <h3>Coffee Box</h3>
                    <span class="price"data-price="39">39SAR</span>
                    <button class="add-to-cart" data-name="Coffee Box"data-price="39">Add to Cart</button>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div> 
                </div>
            </div>
        </div>
    </section>
    <div class="cart-summary-section" style="display: flex; justify-content: space-between;"></div>
    <div class="section" id="cart-and-summary">
        <h2>Your Cart</h2>
        <div class="card">
            <h3>Your Order</h3>
            <ul id="cart-items">
                <li class="empty-message">Your cart is empty</li>
            </ul>
        </div>
    
        <h2>Order Summary</h2>
        <div class="card order-summary">
            <div class="summary-details">
                <p>Total Items: <strong id="total-items">0</strong></p>
                <p>Total Amount: <strong id="total-amount">0.00 SAR</strong></p>
            </div>
            <!-- Payment Options -->
                <div class="payment-section">
                    <h2>Payment Method</h2>
                    <label><input type="radio" name="payment-method" value="credit-card"> Credit Card</label>
                    <label><input type="radio" name="payment-method" value="cash"> Cash on Delivery</label>
                
                    <div id="credit-card-form" style="display: none; margin-top: 10px;">
                        <h3>Enter Credit Card Details</h3>
                        <input type="text" id="card-number" maxlength="16" placeholder="Card Number" required>
                        <input type="month" id="card-expiry" required>
                        <input type="password" id="card-cvv" maxlength="3" placeholder="CVV" required>
                    </div>
                </div>
            </div>
            <button id="place-order-btn">Place Order</button>
        </div>
    </div>

    <div class="previous-orders-section" style="flex: 1; margin-left: 20px;">
        <h2>Previous Orders</h2>
        <div id="previous-orders" class="previous-orders">
        </div>
    </div>

<script>
    function showConfirmationMessage() {
        const message = document.getElementById('confirmation-message');
        message.style.display = 'block'; 
        setTimeout(() => {
            message.style.display = 'none'; 
        }, 3000);
    }

    document.querySelectorAll('.menu-item').forEach(menuItem => {
        const decreaseButton = menuItem.querySelector('.decrease');
        const increaseButton = menuItem.querySelector('.increase');
        const quantityDisplay = menuItem.querySelector('.quantity');

        decreaseButton.addEventListener('click', () => {
            const currentQuantity = parseInt(quantityDisplay.textContent);
            if (currentQuantity > 1) {
                quantityDisplay.textContent = currentQuantity - 1;
            }
        });

        increaseButton.addEventListener('click', () => {
            const currentQuantity = parseInt(quantityDisplay.textContent);
            quantityDisplay.textContent = currentQuantity + 1;
        });

        menuItem.querySelector('.add-to-cart').addEventListener('click', () => {
            const itemName = menuItem.querySelector('h3').textContent;
            const itemPrice = parseFloat(menuItem.querySelector('.price').dataset.price);
            const quantity = parseInt(quantityDisplay.textContent);

            addToCart(itemName, itemPrice, quantity);
            showConfirmationMessage();
        });
    });

    function addToCart(itemName, itemPrice, quantity) {
        const cartItemsContainer = document.getElementById('cart-items');
        const emptyMessage = document.querySelector('.empty-message');

        if (emptyMessage) emptyMessage.remove();

        const existingItem = Array.from(cartItemsContainer.children).find(item =>
            item.querySelector('.item-name')?.textContent === itemName
        );

        if (existingItem) {
            const quantityElement = existingItem.querySelector('.item-quantity');
            const currentQuantity = parseInt(quantityElement.textContent);
            quantityElement.textContent = currentQuantity + quantity;

            const itemTotalPriceElement = existingItem.querySelector('.item-total-price');
            itemTotalPriceElement.textContent = `${((currentQuantity + quantity) * itemPrice).toFixed(2)} SAR`;
        } else {
            const newItem = document.createElement('li');
            newItem.className = 'cart-item';

            newItem.innerHTML = `
                <span class="item-name">${itemName}</span> - 
                <span class="item-total-price">${(itemPrice * quantity).toFixed(2)} SAR</span>
                (<span class="item-quantity">${quantity}</span>)
                <button class="remove-from-cart">Remove</button>
            `;

            newItem.querySelector('.remove-from-cart').addEventListener('click', () => {
                removeFromCart(newItem, itemPrice);
            });

            cartItemsContainer.appendChild(newItem);
        }

        updateSummary(itemPrice * quantity, quantity);
    }

    function removeFromCart(itemElement, itemPrice) {
        const quantityElement = itemElement.querySelector('.item-quantity');
        const currentQuantity = parseInt(quantityElement.textContent);

        if (currentQuantity > 1) {
            quantityElement.textContent = currentQuantity - 1;
            const itemTotalPriceElement = itemElement.querySelector('.item-total-price');
            itemTotalPriceElement.textContent = `${((currentQuantity - 1) * itemPrice).toFixed(2)} SAR`;
            updateSummary(-itemPrice, -1);
        } else {
            itemElement.remove();
            updateSummary(-itemPrice * currentQuantity, -currentQuantity);

            if (!document.querySelector('.cart-item')) {
                const emptyMessage = document.createElement('li');
                emptyMessage.className = 'empty-message';
                emptyMessage.textContent = 'Your cart is empty';
                document.getElementById('cart-items').appendChild(emptyMessage);
            }
        }
    }

    function updateSummary(priceChange, quantityChange) {
        const totalItemsElement = document.getElementById('total-items');
        const totalAmountElement = document.getElementById('total-amount');

        totalItemsElement.textContent = parseInt(totalItemsElement.textContent) + quantityChange;
        totalAmountElement.textContent = `${Math.max(0, parseFloat(totalAmountElement.textContent) + priceChange).toFixed(2)} SAR`;
    }

    document.getElementById('place-order-btn').addEventListener('click', () => {
        const selectedPaymentMethod = document.querySelector('input[name="payment-method"]:checked');
        if (!selectedPaymentMethod) {
            alert('Please select a payment method.');
            return;
        }

        if (selectedPaymentMethod.value === 'credit-card') {
            const cardNumber = document.getElementById('card-number').value.trim();
            const cardExpiry = document.getElementById('card-expiry').value.trim();
            const cardCVV = document.getElementById('card-cvv').value.trim();

            if (!cardNumber || cardNumber.length !== 16 || isNaN(cardNumber) || !cardExpiry || !cardCVV || cardCVV.length !== 3 || isNaN(cardCVV)) {
                alert('Please provide valid credit card details.');
                return;
            }
        }

        if (!document.querySelector('.cart-item')) {
            alert('Your cart is empty.');
            return;
        }

        const orderDetails = Array.from(document.querySelectorAll('.cart-item')).map(item => {
            const name = item.querySelector('.item-name').textContent;
            const quantity = item.querySelector('.item-quantity').textContent;
            const total = item.querySelector('.item-total-price').textContent;
            return `<li>${name} (x${quantity}) - ${total}</li>`;
        }).join('');

        const orderId = `ORD-${Date.now().toString().slice(-6)}`;
        const orderDate = new Date().toLocaleString();

        const order = document.createElement('div');
        order.className = 'order';
        order.innerHTML = `
            <h4>Order ID: ${orderId}</h4>
            <p>Date: ${orderDate}</p>
            <ul>${orderDetails}</ul>
        `;

        document.getElementById('previous-orders').appendChild(order);

        document.getElementById('cart-items').innerHTML = '<li class="empty-message">Your cart is empty</li>';
        document.getElementById('total-items').textContent = '0';
        document.getElementById('total-amount').textContent = '0.00 SAR';

        alert('Your order has been placed successfully!');
    });

    document.querySelectorAll('input[name="payment-method"]').forEach(radio => {
        radio.addEventListener('change', () => {
            document.getElementById('credit-card-form').style.display = radio.value === 'credit-card' ? 'block' : 'none';
        });
    });
</script>


<section id="location">
    <h1 class="t-location" > location </h1>
    <div class="branches">
        <div class="branch">
            <h3>Branch Al-Hizam, Ad-Dhalea</h3>
            <button onclick="openLocation('https://maps.app.goo.gl/Mud8TY7DJ9FPDLXRA?g_st=ic')">Get Directions</button>
        </div>
        <div class="branch">
            <h3>Branch Al-Laqayt</h3>
            <button onclick="openLocation('https://maps.app.goo.gl/6ZCnnLh7VaYRg47u6?g_st=ic')">Get Directions</button>
        </div>
        <div class="branch">
            <h3>Branch Qara</h3>
            <button onclick="openLocation('https://maps.app.goo.gl/gGEtbxDgmVyXMNYn6?g_st=ic')">Get Directions</button>
        </div>
        <div class="branch">
            <h3>Branch AlQurayyat</h3>
            <button onclick="openLocation('https://maps.app.goo.gl/NkXN6wH1opzxGbXa6?g_st=ic')">Get Directions</button>
        </div>
    </div>
</section>

<script>
    function openLocation(url) {
        window.open(url, '_blank');
    }
</script>

<script>
document.querySelector(".social-icons a:nth-child(1)").addEventListener("click", function(event) {
    event.preventDefault(); 
    window.open("https://www.instagram.com/crav.23", "_blank");
});

document.querySelector(".social-icons a:nth-child(2)").addEventListener("click", function(event) {
    event.preventDefault();
    window.open("https://www.snapchat.com/add/crav.23", "_blank");
});

document.querySelector(".social-icons a:nth-child(3)").addEventListener("click", function(event) {
    event.preventDefault();
    window.open("https://www.tiktok.com/@crav.23", "_blank");
});
</script>
</body>
</html>
